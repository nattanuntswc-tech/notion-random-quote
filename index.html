<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Today Quotes</title>

  <style>
    :root{
      /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ: normal | compact */
      --mode: normal;

      /* ‡∏Ñ‡∏∏‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á (‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏ß‡πâ‡∏≤‡∏á/‡∏™‡∏π‡∏á 2 ‡πÇ‡∏´‡∏°‡∏î) */
      --box-w-normal: 900px;
      --box-h-normal: 260px;

      --box-w-compact: 720px;
      --box-h-compact: 200px;

      /* ‡∏™‡∏µ */
      --paper: #fdf9f1;
      --ink: #2f2b23;
      --muted: #6b6355;
      --border: rgba(0,0,0,0.08);
      --shadow: 0 10px 28px rgba(0,0,0,0.18);
    }

    html, body{
      margin: 0;
      padding: 0;
      height: auto;
      overflow: hidden; /* ‡∏Å‡∏±‡∏ô scrollbar ‡πÉ‡∏ô embed */
      background: transparent;
      font-family: Georgia, "Times New Roman", serif;
    }

    .wrap{
      display: inline-block; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤ ‚Äú‡∏´‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‚Äù */
      padding: 14px 14px 16px;
      box-sizing: border-box;
      text-align: center;
      background: transparent;
    }

    .title{
      font-size: 16px;
      letter-spacing: 3px;
      margin: 0 0 12px 0;
      color: var(--ink);
      opacity: 0.95;
      font-weight: 500;
    }

    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å */
    .box{
      width: min(var(--box-w-normal), 100%);
      height: var(--box-h-normal);
      background: var(--paper);
      border: 1px solid var(--border);
      border-radius: 14px;
      box-shadow: var(--shadow);

      /* padding ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢ JS ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ */
      padding: 48px 44px;
      box-sizing: border-box;

      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 18px;
    }

    .quote{
      color: var(--ink);
      font-size: 24px;
      line-height: 1.7;
      white-space: pre-line;
      margin: 0;
    }

    .author{
      color: var(--muted);
      font-size: 15px;
      font-style: italic;
      margin: 0;
    }

    /* ‚úÖ ‡πÇ‡∏´‡∏°‡∏î compact */
    body[data-mode="compact"] .title{
      font-size: 15px;
      margin-bottom: 10px;
    }
    body[data-mode="compact"] .box{
      width: min(var(--box-w-compact), 100%);
      height: var(--box-h-compact);
    }
    body[data-mode="compact"] .quote{
      font-size: 20px;
      line-height: 1.65;
    }
    body[data-mode="compact"] .author{
      font-size: 14px;
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏≤ class hidden ‡∏≠‡∏≠‡∏Å) */
    .controls{
      margin-top: 10px;
      display: flex;
      gap: 8px;
      justify-content: center;
    }
    .btn{
      border: 1px solid var(--border);
      background: rgba(253,249,241,0.8);
      padding: 8px 10px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 12px;
      color: var(--ink);
    }
    .hidden{ display:none; }
  </style>
</head>

<body data-mode="normal">
  <div class="wrap" id="wrap">
    <div class="title" id="title">- Today Quotes -</div>

    <div class="box" id="box">
      <div class="quote" id="quote"></div>
      <div class="author" id="author"></div>
    </div>

    <!-- ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î/‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö ‡πÉ‡∏´‡πâ‡∏•‡∏ö class hidden -->
    <div class="controls hidden">
      <button class="btn" id="toggleMode">Toggle Mode</button>
      <button class="btn" id="newQuote">New Quote</button>
    </div>
  </div>

  <script>
    // ========= 1) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏´‡∏°‡∏î =========
    // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ 3 ‡∏ß‡∏¥‡∏ò‡∏µ:
    // A) ‡πÉ‡∏ô URL: ?mode=compact  ‡∏´‡∏£‡∏∑‡∏≠ ?mode=normal
    // B) localStorage (‡∏õ‡∏∏‡πà‡∏° toggle ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
    // C) ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ô <body data-mode="normal">
    const params = new URLSearchParams(location.search);
    const savedMode = localStorage.getItem("quote_mode");
    const urlMode = params.get("mode");

    const initialMode = (urlMode === "compact" || urlMode === "normal")
      ? urlMode
      : (savedMode === "compact" || savedMode === "normal")
        ? savedMode
        : document.body.dataset.mode;

    document.body.dataset.mode = initialMode;

    // ========= Quotes =========
    const quotes = [
      { text: "‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏≠‡∏≤‡∏à‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏£‡∏≤ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏±‡∏ô", author: "Jim Rohn" },
      { text: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°", author: "Unknown" },
      { text: "‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", author: "Jim Rohn" },
      { text: "‡∏ó‡∏≥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î\n‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô", author: "Putjeeb üòÜ" },
      { text: "‡πÄ‡∏ß‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏à‡∏≥‡∏Å‡∏±‡∏î ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏â‡∏∞‡∏ô‡∏±‡πâ‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ï‡∏≤‡∏°‡πÅ‡∏ö‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô", author: "Steve Jobs" },
      { text: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á ‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÉ‡∏™‡πà‡∏Ñ‡∏∏‡∏ì", author: "Jack Ma" },
      { text: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥", author: "Ann" },
      { text: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏£‡πâ‡∏≤‡∏¢‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏î‡∏µ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ", author: "Winston Churchill" },
      { text: "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏´‡∏≤‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏•‡πâ‡∏≤‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏•‡πà‡∏ï‡∏≤‡∏°", author: "Walt Disney" },
      { text: "‡∏â‡∏±‡∏ô‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏â‡∏±‡∏ô ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤ ‡∏â‡∏±‡∏ô‡∏à‡∏∂‡∏á‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á", author: "Albert Einstein (‡∏≠‡∏±‡∏•‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏ï ‡πÑ‡∏≠‡∏ô‡πå‡∏™‡πÑ‡∏ï‡∏ô‡πå)" },
      { text: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Impossible ‡∏¢‡∏±‡∏á‡∏™‡∏∞‡∏Å‡∏î‡∏ß‡πà‡∏≤ I'm possible", author: "Audrey Hepburn (‡∏≠‡∏≠‡πÄ‡∏î‡∏£‡∏¢‡πå ‡πÄ‡∏Æ‡∏õ‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏ô)" },
      { text: "‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏•‡πâ‡∏°‡πÅ‡∏ï‡πà‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏∏‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°", author: "Nelson Mandela (‡πÄ‡∏ô‡∏•‡∏™‡∏±‡∏ô ‡πÅ‡∏°‡∏ô‡πÄ‡∏î‡∏•‡∏≤)" },
      { text: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏î‡∏¥‡πà‡∏á‡∏•‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏´‡∏•‡∏∏‡∏° ‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏Ñ‡∏∑‡∏≠ ‡∏≠‡∏¢‡πà‡∏≤‡∏Ç‡∏∏‡∏î‡∏´‡∏•‡∏∏‡∏°‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏•‡∏∂‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°", author: "Warren Buffett (‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏ô ‡∏ö‡∏±‡∏ü‡πÄ‡∏ü‡∏ï‡∏ï‡πå)" },
      { text: "‡∏â‡∏±‡∏ô‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏°‡∏±‡∏ô", author: "Pablo Picasso (‡∏õ‡∏≤‡πÇ‡∏ö‡∏• ‡∏õ‡∏¥‡∏Å‡∏±‡∏™‡πÇ‡∏ã)" },
      { text: "Stay Hungry Stay Foolish\n‡∏à‡∏á‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡πÇ‡∏á‡πà‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤", author: "Steve Jobs" },
      {
        text: "Live as if you were to die tomorrow.\nLearn as if you were to live forever.\n\n‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏≤‡∏ß‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏≤‡∏¢‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ\n‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏£‡∏≤‡∏ß‡∏Å‡∏±‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ",
        author: "Mahatma Gandhi"
      }
    ];

    const els = {
      quote: document.getElementById("quote"),
      author: document.getElementById("author"),
      box: document.getElementById("box"),
      wrap: document.getElementById("wrap")
    };

    function pickRandomQuote(){
      const random = Math.floor(Math.random() * quotes.length);
      return quotes[random];
    }

    // ========= 2) ‡∏õ‡∏£‡∏±‡∏ö padding ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ =========
    // ‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢: ‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß -> padding ‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏•‡πâ‡∏ô)
    // ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥ clamp ‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏•‡πá‡∏Å/‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô
    function autoPaddingByLength(text){
      const len = (text || "").replace(/\s+/g, " ").trim().length;

      // ‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡πÇ‡∏´‡∏°‡∏î
      const mode = document.body.dataset.mode;
      const baseV = mode === "compact" ? 34 : 44; // padding-vertical base
      const baseH = mode === "compact" ? 34 : 44; // padding-horizontal base

      // ‡∏•‡∏î padding ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß (‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÉ‡∏à)
      const reduce = Math.min(18, Math.floor(len / 28)); // ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏•‡∏î‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
      const pv = clamp(baseV - reduce, mode === "compact" ? 22 : 26, baseV);
      const ph = clamp(baseH - Math.floor(reduce * 0.8), mode === "compact" ? 22 : 28, baseH);

      els.box.style.padding = `${pv}px ${ph}px`;
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    // ========= 3) Auto-resize (advanced) =========
    // ‡∏™‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á widget ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô platform ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö)
    // Notion ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö auto ‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ ‡πÅ‡∏ï‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ safe.
    function postHeight(){
      // ‡πÉ‡∏´‡πâ‡∏£‡∏≠ layout settle ‡∏Å‡πà‡∏≠‡∏ô
      requestAnimationFrame(() => {
        const h = Math.ceil(els.wrap.getBoundingClientRect().height);
        // ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏´‡∏≤ parent (‡∏ñ‡πâ‡∏≤ parent ‡∏ü‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà)
        window.parent?.postMessage(
          { type: "resize", height: h, source: "today-quotes-widget" },
          "*"
        );
        // ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ (‡∏ä‡πà‡∏ß‡∏¢‡∏ö‡∏≤‡∏á embed)
        document.documentElement.style.height = h + "px";
        document.body.style.height = h + "px";
      });
    }

    function render(){
      const q = pickRandomQuote();
      els.quote.innerText = "‚Äú" + q.text + "‚Äù";
      els.author.innerText = "- " + q.author;

      autoPaddingByLength(q.text);

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏á render ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡∏û‡∏≠‡∏î‡∏µ
      postHeight();
    }

    // re-render ‡πÄ‡∏°‡∏∑‡πà‡∏≠ resize ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡∏Å‡∏±‡∏ô wrap ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á)
    window.addEventListener("resize", () => {
      postHeight();
    });

    // ========= ‡∏õ‡∏∏‡πà‡∏° (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ) =========
    const btnToggle = document.getElementById("toggleMode");
    const btnNew = document.getElementById("newQuote");

    if (btnToggle && btnNew){
      btnToggle.addEventListener("click", () => {
        const next = document.body.dataset.mode === "compact" ? "normal" : "compact";
        document.body.dataset.mode = next;
        localStorage.setItem("quote_mode", next);
        render();
      });

      btnNew.addEventListener("click", () => {
        render();
      });
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    render();
  </script>
</body>
</html>
